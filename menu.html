<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Menu | Bistro Yahya</title>
  <meta name="description" content="Browse the full Bistro Yahya menu ‚Äî pastas, pizzas, burgers, sandwiches, rolls, desserts, and specialty juices. Order via WhatsApp or scan in-caf√©." />

  <!-- Open Graph -->
  <meta property="og:title" content="Menu | Bistro Yahya" />
  <meta property="og:description" content="Explore Bistro Yahya‚Äôs full menu ‚Äî from pizzas and burgers to specialty desserts and juices. Reserve your private cabin or order online." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://bistroyahya.com/menu" />
  <meta property="og:image" content="images/ambience/bistro-yahya-pink-cabin.webp" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Menu | Bistro Yahya" />
  <meta name="twitter:description" content="Browse Bistro Yahya‚Äôs full menu ‚Äî pastas, pizzas, burgers, sandwiches, rolls, desserts, and juices." />
  <meta name="twitter:image" content="images/ambience/bistro-yahya-pink-cabin.webp" />

  <link rel="icon" href="images/logo/bistro-yahya-logo.png" />
  <link rel="canonical" href="https://bistroyahya.com/menu" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Restaurant Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Restaurant",
    "name": "Bistro Yahya",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Azad Nagar, Jali Rd, opp. to Rural Police Station, Devinagar",
      "addressLocality": "Bhatkal",
      "addressRegion": "Karnataka",
      "postalCode": "581320",
      "addressCountry": "IN"
    },
    "telephone": "+91 9611113310",
    "servesCuisine": ["Italian", "Caf√©", "Fast Food", "Bakery", "Desserts", "Juices"],
    "priceRange": "‚Çπ‚Çπ",
    "acceptsReservations": true,
    "url": "https://bistroyahya.com/menu",
    "image": "https://bistroyahya.com/images/ambience/bistro-yahya-pink-cabin.webp",
    "openingHours": ["Mo-Su 15:00-23:00"],
    "hasMenu": { "@type": "Menu", "url": "https://bistroyahya.com/menu" },
    "sameAs": [
      "https://instagram.com/yourhandle",
      "https://facebook.com/yourpage"
    ]
  }
  </script>

  <style>
    :root {
      --bg: #fff7f8;
      --card: #ffffff;
      --text: #222;
      --muted: #666;
      --accent: #ff7aa2;
      --accent-2: #f3c6cf;
      --leaf: #7bb089;
      --border: #f0dbe0;
      --max: 1120px;
      --radius: 18px;
      --shadow: 0 10px 30px rgba(255,122,162,.18);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55}
    body{font-size:16px}
    h1,h2,h3{font-family:"Playfair Display",serif;line-height:1.2;margin:0 0 8px}
    h1{font-size:clamp(36px,5vw,48px)}
    h2{font-size:clamp(28px,3.2vw,32px)}
    h3{font-size:clamp(20px,2.4vw,24px)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:var(--max);margin:0 auto;padding:0 20px}
    header{position:sticky;top:0;background:rgba(255,247,248,.95);backdrop-filter:saturate(180%) blur(6px);border-bottom:1px solid var(--border);z-index:50;min-height:72px}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
    .brand{display:flex;gap:12px;align-items:center}
    .brand img{width:56px;height:56px;border-radius:14px;border:1px solid var(--border);object-fit:cover}
    .brand strong{font-weight:800;font-size:clamp(20px,3vw,28px)}
    .primary-links{display:flex;gap:10px;align-items:center}
    .ribbon{display:inline-block;background:#fff;border:1px solid var(--border);padding:6px 12px;border-radius:999px}
    .cta{background:var(--accent);color:#fff;font-weight:700;padding:10px 14px;border-radius:999px;box-shadow:var(--shadow);border:0}
    main{padding:0 0 28px}
    .menu-hero{background:#fff;padding:32px 0 16px;border-bottom:1px solid var(--border)}
    .menu-hero .sub{color:var(--muted);max-width:760px}
    .controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:18px 0}
    .input{background:#fff;border:1px solid var(--border);border-radius:999px;padding:10px 14px;min-width:240px}
    .chip{background:#fff;border:1px solid var(--border);border-radius:999px;padding:8px 12px;cursor:pointer}
    .chip.active{background:#ffe3ec;border-color:#ffd1e2}
    .chip.cart {position:relative;display:inline-flex;align-items:center;gap:8px;}
    .chip .badge {background:var(--accent);color:#fff;border-radius:999px;padding:2px 8px;font-weight:700;font-size:12px;min-width:20px;text-align:center;display:inline-block;}
    .grid{display:grid;grid-template-columns:2fr 1fr;gap:20px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    .item{display:grid;grid-template-columns:1fr auto auto;gap:10px;align-items:center;padding:10px 0;border-bottom:1px dashed var(--border)}
    .item:last-child{border-bottom:none}
    .muted{color:var(--muted)}
    .price{font-weight:700}
    .btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:6px 10px;cursor:pointer}
    .qty{display:inline-flex;align-items:center;gap:8px}
    .sticky{position:sticky;top:82px}
    .summary{display:flex;flex-direction:column;gap:12px}
    .line{display:flex;justify-content:space-between}
    .total{font-weight:800;font-size:18px}
    .note{font-size:12px;color:var(--muted)}
    .tag{display:inline-block;background:var(--leaf);color:#fff;border-radius:999px;padding:2px 8px;font-size:12px;margin-left:8px}
    footer{border-top:1px solid var(--border);padding:28px 0;color:var(--muted);margin-top:32px}
    .foot{display:grid;grid-template-columns:1fr auto auto;gap:14px;align-items:center}
    .links a{padding:8px 10px}
    .actionbar{position:fixed;bottom:0;left:0;right:0;background:#fff;border-top:1px solid var(--border);display:none;z-index:60}
    .actionbar .row{display:grid;grid-template-columns:repeat(3,1fr)}
    .actionbar a{display:flex;align-items:center;justify-content:center;gap:8px;height:60px;font-weight:700}
    @media (max-width:980px){.grid{grid-template-columns:1fr}.actionbar{display:block}}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a class="brand" href="./"><img src="images/logo/bistro-yahya-logo.png" alt="Bistro Yahya logo"/><strong>Bistro Yahya</strong></a>
      <nav class="primary-links">
        <a class="ribbon" href="./">‚Üê Home</a>
        <a class="cta" href="https://wa.me/919611113310?text=Hi%20Bistro%20Yahya!%20I'd%20like%20to%20reserve%20a%20cabin.">Reserve a Cabin</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="menu-hero">
      <div class="container">
        <h1>Our Menu</h1>
        <p class="sub"><em>‚ÄúI believe food isn‚Äôt just to fill the stomach, but to fill the heart. My goal is to bring global flavors to our beautiful town, one delicious bite at a time.‚Äù</em> ‚Äì Chef Yahya</p>
      </div>
    </section>

    <div class="container">
      <div class="controls">
        <input id="search" class="input" placeholder="Search (pizza, burger, fries...)" />
        <div id="chip-root" style="display:flex;gap:8px;flex-wrap:wrap;"></div>
      </div>

      <div class="grid">
        <div id="menu-root"></div>
        <aside class="card sticky">
          <div class="summary">
            <h3>Your Order</h3>
            <div class="sec">
              <label class="muted" for="custName">Your Name</label>
              <input id="custName" class="input" placeholder="Your name" />
            </div>
            <div class="sec">
              <label class="muted" for="custPhone">Phone</label>
              <input id="custPhone" class="input" placeholder="+91 9XXXXXXXXX" inputmode="tel" />
            </div>
            <div id="order-lines" class="sec"></div>
            <div class="line"><span class="muted">Subtotal</span><span id="subtotal">‚Çπ0</span></div>
            <div class="line total"><span>Total</span><span id="total">‚Çπ0</span></div>
            <div style="display:flex;gap:8px;margin-top:10px">
              <a id="waCheckout" class="cta disabled" target="_blank">Checkout on WhatsApp</a>
              <button id="clearCart" class="btn" type="button">Clear Cart</button>
            </div>
            <div class="note">Payment at caf√© on delivery. Prices inclusive of taxes.</div>
          </div>
        </aside>
      </div>
    </div>
  </main>

  <footer>
    <div class="container foot">
      <div>¬© <span id="year"></span> Bistro Yahya. All rights reserved.</div>
      <div class="links"><a href="./#chef">About</a> | <a href="menu.html">Menu</a> | <a href="./#visit">Contact</a></div>
    </div>
  </footer>

  <div class="actionbar">
    <div class="row">
      <a href="menu.html">üìú Order Now</a>
      <a href="tel:+919611113310">üìû Call</a>
      <a href="https://wa.me/919611113310">üí¨ WhatsApp</a>
    </div>
  </div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const PHONE = "919611113310";
    const root = document.getElementById("menu-root");
    const orderLines = document.getElementById("order-lines");
    const subtotalEl = document.getElementById("subtotal");
    const totalEl = document.getElementById("total");
    const waCheckout = document.getElementById("waCheckout");
    const chipRoot = document.getElementById("chip-root");
    const custName = document.getElementById("custName");
    const custPhone = document.getElementById("custPhone");
    const clearCartBtn = document.getElementById("clearCart");

    let data = { sections: [] };
    let cart = JSON.parse(localStorage.getItem("by_cart") || "{}");
    let chips = [];

    function saveCart(){ localStorage.setItem("by_cart", JSON.stringify(cart)); }
    function currency(n){ return "‚Çπ" + (Number(n) || 0); }

    function render(){
      root.innerHTML = "";
      (data.sections||[]).forEach(sec=>{
        const card=document.createElement("div");
        card.className="card";
        card.innerHTML=`<h2>${sec.title}</h2>`;
        (sec.items||[]).forEach(item=>{
          const key=`${sec.title}|${item.name}`;
          const qty=cart[key]?.qty||0;
          const line=document.createElement("div");
          line.className="item";
          line.innerHTML=`
            <div><strong>${item.name}</strong><div class="muted">${item.desc||""}</div></div>
            <div class="price">${currency(item.price)}</div>
            <div class="qty">
              <button class="btn" data-act="dec">‚àí</button>
              <span>${qty}</span>
              <button class="btn" data-act="inc">+</button>
            </div>`;
          line.querySelector("[data-act='dec']").onclick=()=>{if(qty>0){cart[key].qty--;if(cart[key].qty<=0)delete cart[key];saveCart();render();renderSummary();}};
          line.querySelector("[data-act='inc']").onclick=()=>{cart[key]=cart[key]||{name:item.name,price:item.price};cart[key].qty=(cart[key].qty||0)+1;saveCart();render();renderSummary();};
          card.appendChild(line);
        });
        root.appendChild(card);
      });
    }

    function renderSummary(){
      orderLines.innerHTML="";
      let subtotal=0;
      Object.values(cart).forEach(v=>{
        const line=document.createElement("div");
        line.className="line";
        const total=(v.price||0)*v.qty;
        line.innerHTML=`<span>${v.name} √ó ${v.qty}</span><span>${currency(total)}</span>`;
        orderLines.appendChild(line);
        subtotal+=total;
      });
      subtotalEl.textContent=currency(subtotal);
      totalEl.textContent=currency(subtotal);
      updateWaLink();
      updateCartBadge();
    }

    function makeWaText(){
      const name=custName.value||"";
      const phone=custPhone.value||"";
      const lines=["Bistro Yahya ‚Äî New Order"];
      Object.values(cart).forEach(v=>lines.push(`‚Ä¢ ${v.name} √ó ${v.qty}`));
      const total=Object.values(cart).reduce((s,v)=>s+(v.price*v.qty),0);
      lines.push(`Total: ‚Çπ${total}`);
      lines.push(`Name: ${name}  Phone: ${phone}`);
      return lines.join("\n");
    }

    function updateWaLink(){
      const text=encodeURIComponent(makeWaText());
      waCheckout.href=`https://wa.me/${PHONE}?text=${text}`;
      waCheckout.classList.toggle("disabled",Object.keys(cart).length===0);
    }

    function updateCartBadge(){
      const countEl=document.getElementById("chipCartCount");
      if(!countEl)return;
      const count=Object.values(cart).reduce((s,v)=>s+(v.qty||0),0);
      countEl.textContent=count||"";
    }

    function buildChips(){
      chipRoot.innerHTML="";
      const cartBtn=document.createElement("button");
      cartBtn.className="chip cart";
      cartBtn.innerHTML='Cart <span class="badge" id="chipCartCount">0</span>';
      cartBtn.onclick=()=>{document.querySelector("aside.card").scrollIntoView({behavior:"smooth"});}
      chipRoot.appendChild(cartBtn);
    }

    clearCartBtn.onclick=()=>{if(confirm("Clear your order?")){cart={};saveCart();render();renderSummary();}};

    async function load(){
      const res=await fetch("data/menu.json");data=await res.json();
      buildChips();render();renderSummary();
    }

    load();
  </script>
</body>
</html>
